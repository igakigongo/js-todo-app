/*! For license information please see main.3e72d48ba875f26fd491.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([["main"],{"./src/css/app.scss":function(module,exports){eval("// removed by extract-text-webpack-plugin\n\n//# sourceURL=webpack:///./src/css/app.scss?")},"./src/js/app.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _css_app_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../css/app.scss */ "./src/css/app.scss");\n/* harmony import */ var _css_app_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_app_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_projects_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/projects-navigation */ "./src/js/components/projects-navigation.js");\n/* harmony import */ var _components_add_todo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/add-todo */ "./src/js/components/add-todo.js");\n/* harmony import */ var _event_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./event-types */ "./src/js/event-types/index.js");\n/* harmony import */ var _components_list_todos__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/list-todos */ "./src/js/components/list-todos.js");\n\n\n\n\n\n\n// Assume this to be an application module that runs as soon as it\'s loaded in\n// the browser\n\ndocument.addEventListener(\'DOMContentLoaded\', () => {\n  _components_projects_navigation__WEBPACK_IMPORTED_MODULE_1__["default"].initialize();\n  _components_add_todo__WEBPACK_IMPORTED_MODULE_2__["default"].initialize();\n  _components_list_todos__WEBPACK_IMPORTED_MODULE_4__["default"].initialize();\n});\n\ndocument.addEventListener(_event_types__WEBPACK_IMPORTED_MODULE_3__["default"].PROJECT_CREATED, (evt) => {\n  const { project } = evt.detail;\n  _components_add_todo__WEBPACK_IMPORTED_MODULE_2__["default"].updateProjectsSelectList(project);\n});\n\ndocument.addEventListener(_event_types__WEBPACK_IMPORTED_MODULE_3__["default"].PROJECT_DELETED, (evt) => {\n  const { id: projectId } = evt.detail;\n  _components_add_todo__WEBPACK_IMPORTED_MODULE_2__["default"].removeProject(projectId);\n  _components_list_todos__WEBPACK_IMPORTED_MODULE_4__["default"].removeTodosAssociatedWith(+projectId);\n});\n\ndocument.addEventListener(_event_types__WEBPACK_IMPORTED_MODULE_3__["default"].TODO_ITEM_CREATED, (evt) => {\n  const { todoItem } = evt.detail;\n  _components_list_todos__WEBPACK_IMPORTED_MODULE_4__["default"].addTodoItem(todoItem);\n});\n\n//# sourceURL=webpack:///./src/js/app.js?')},"./src/js/components/add-todo.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _repositories__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../repositories */ \"./src/js/repositories/index.js\");\n/* harmony import */ var _models_priority_level__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/priority-level */ \"./src/js/models/priority-level.js\");\n/* harmony import */ var _models_todo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/todo */ \"./src/js/models/todo.js\");\n/* harmony import */ var _ui_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui-helpers */ \"./src/js/ui-helpers/index.js\");\n/* harmony import */ var _event_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../event-types */ \"./src/js/event-types/index.js\");\n\n\n\n\n\n\nconst AddTodoComponent = (() => {\n  const rootElement = document.querySelector('#key');\n\n  const priorityCssClassMap = new Map();\n  priorityCssClassMap.set(4, { className: 'danger', name: _models_priority_level__WEBPACK_IMPORTED_MODULE_1__[\"default\"].URGENT });\n  priorityCssClassMap.set(3, { className: 'primary', name: _models_priority_level__WEBPACK_IMPORTED_MODULE_1__[\"default\"].HIGH });\n  priorityCssClassMap.set(2, { className: 'warning', name: _models_priority_level__WEBPACK_IMPORTED_MODULE_1__[\"default\"].MEDIUM });\n  priorityCssClassMap.set(1, { className: 'success', name: _models_priority_level__WEBPACK_IMPORTED_MODULE_1__[\"default\"].LOW });\n\n  const createPriorityButton = (key) => {\n    const { className, name: priority } = priorityCssClassMap.get(key);\n\n    const span = document.createElement('span');\n    span.classList.add('badge', 'badge-light', 'mr-2');\n    span.innerText = key;\n\n    const text = document.createElement('span');\n    text.innerText = priority;\n\n    const button = document.createElement('button');\n    button.classList.add('btn', 'btn-block', 'btn-sm', `btn-${className}`, 'font-weight-bold', 'my-2', 'text-left');\n    button.append(span, text);\n\n    return button;\n  };\n\n  const bootstrapComponent = () => {\n    // create priority buttons\n    const priorityButtons = [...priorityCssClassMap.keys()].sort((a, b) => b - a)\n      .map(createPriorityButton);\n\n    // create form\n    const form = Object(_ui_helpers__WEBPACK_IMPORTED_MODULE_3__[\"createAddTodoForm\"])();\n    form.clearFormFields = _ui_helpers__WEBPACK_IMPORTED_MODULE_3__[\"clearFormFields\"].bind(form);\n    form.queryFormValuesByName = _ui_helpers__WEBPACK_IMPORTED_MODULE_3__[\"queryFormValuesByName\"].bind(form);\n\n    form.addEventListener('submit', (evt) => {\n      evt.preventDefault();\n      const viewModel = evt.target.queryFormValuesByName(['description', 'dueDate',\n        'priority', 'projectId', 'title']);\n      const {\n        description, dueDate, priority, projectId, title,\n      } = viewModel;\n      try {\n        const id = _repositories__WEBPACK_IMPORTED_MODULE_0__[\"default\"].todosRepository.maxId + 1;\n        const todoItem = new _models_todo__WEBPACK_IMPORTED_MODULE_2__[\"default\"](new Date(), description, dueDate, id,\n          priority, +projectId, title);\n        _repositories__WEBPACK_IMPORTED_MODULE_0__[\"default\"].todosRepository.add(todoItem);\n        form.clearFormFields();\n        const event = new CustomEvent(_event_types__WEBPACK_IMPORTED_MODULE_4__[\"default\"].TODO_ITEM_CREATED, { detail: { todoItem } });\n        document.dispatchEvent(event);\n      } catch ({ message }) {\n        // eslint-disable-next-line no-alert\n        alert(message);\n      }\n    });\n\n    // append all items to the root\n    rootElement.append(form, ...priorityButtons);\n  };\n\n  const removeProjectFromSelectableProjects = (projectId) => {\n    const selectList = rootElement.querySelector('#projectId');\n    if (!selectList) return;\n    const id = (typeof projectId) === 'number' ? `${projectId}` : projectId;\n    for (let i = 0; i < selectList.options.length;) {\n      const optionElement = selectList.options[i];\n      if (optionElement.value === id) {\n        selectList.removeChild(optionElement);\n        break;\n      }\n      i += 1;\n    }\n  };\n\n  const updateListOfSelectableProjects = (project) => {\n    const selectList = rootElement.querySelector('#projectId');\n    if (!selectList) return;\n    const { id, name } = project;\n    const optionElement = document.createElement('option');\n    optionElement.text = name;\n    optionElement.value = id;\n    selectList.options.add(optionElement);\n  };\n\n  return {\n    initialize: bootstrapComponent,\n    removeProject: removeProjectFromSelectableProjects,\n    updateProjectsSelectList: updateListOfSelectableProjects,\n  };\n})();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AddTodoComponent);\n\n//# sourceURL=webpack:///./src/js/components/add-todo.js?")},"./src/js/components/list-todos.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _models_priority_level__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/priority-level */ \"./src/js/models/priority-level.js\");\n/* harmony import */ var _repositories__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../repositories */ \"./src/js/repositories/index.js\");\n/* harmony import */ var _ui_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui-helpers */ \"./src/js/ui-helpers/index.js\");\n\n\n\n\nconst ListTodosComponent = (() => {\n  const rootElement = document.querySelector('#todos-list');\n\n  /**\n   * Only called when we need to re-render a todoItem after canceling edit action\n   * is invoked from the UI\n   */\n  const handleRenderTodo = (evt) => {\n    evt.preventDefault();\n    const { id } = evt.target.dataset;\n    const todoItem = _repositories__WEBPACK_IMPORTED_MODULE_1__[\"default\"].todosRepository.find(+id);\n    // eslint-disable-next-line no-use-before-define\n    const todoDOMElement = createTodoItemDOMElement(todoItem);\n    const oldChildDOMElement = rootElement.querySelector(`#todo-${id}`);\n    rootElement.replaceChild(todoDOMElement, oldChildDOMElement);\n  };\n\n  /**\n   * Handle update todo Item then rebuild that part of the UI\n   * @param {MouseEvent} evt\n   */\n  const handleUpdateTodo = (evt) => {\n    evt.preventDefault();\n    const form = evt.target;\n    const id = form.querySelector('input[type=\"hidden\"]').value;\n    const options = form.queryFormValuesByName(['description', 'dueDate',\n      'priority', 'projectId', 'title']);\n\n    try {\n      _repositories__WEBPACK_IMPORTED_MODULE_1__[\"default\"].todosRepository.update(+id, options);\n      const todoItem = _repositories__WEBPACK_IMPORTED_MODULE_1__[\"default\"].todosRepository.find(+id);\n      // eslint-disable-next-line no-use-before-define\n      const todoDOMElement = createTodoItemDOMElement(todoItem);\n      const oldChildDOMElement = rootElement.querySelector(`#todo-${id}`);\n      rootElement.replaceChild(todoDOMElement, oldChildDOMElement);\n    } catch ({ message }) {\n      // eslint-disable-next-line no-alert\n      alert(message);\n    }\n  };\n\n  const renderEditTodoForm = (id) => {\n    const todo = _repositories__WEBPACK_IMPORTED_MODULE_1__[\"default\"].todosRepository.find(id);\n    const editForm = Object(_ui_helpers__WEBPACK_IMPORTED_MODULE_2__[\"createEditTodoForm\"])(todo);\n    const shellElement = rootElement.querySelector(`#shell-todo-${id}`);\n    while (shellElement.firstChild) {\n      shellElement.removeChild(shellElement.firstChild);\n    }\n    shellElement.appendChild(editForm);\n    const [saveButton, cancelButton] = ['Save', 'Cancel']\n      .map(value => shellElement.querySelector(`button[value=\"${value}\"]`));\n    cancelButton.dataset.id = id;\n    saveButton.dataset.id = id;\n\n    cancelButton.addEventListener('click', handleRenderTodo);\n    editForm.queryFormValuesByName = _ui_helpers__WEBPACK_IMPORTED_MODULE_2__[\"queryFormValuesByName\"].bind(editForm);\n    editForm.addEventListener('submit', handleUpdateTodo);\n  };\n\n  /**\n   * Remove a todo node from the DOM, do not rebuild, simply find and delete it\n   * @param {string} id\n   */\n  const removeTodoItem = (id) => {\n    _repositories__WEBPACK_IMPORTED_MODULE_1__[\"default\"].todosRepository.delete(id);\n    const todoDOMNode = rootElement.querySelector(`#todo-${id}`);\n    todoDOMNode.parentElement.removeChild(todoDOMNode);\n  };\n\n  /**\n   * Get the text and background colors pair based on priority level\n   * @param {PriorityLevel} todoPriority\n   */\n  const getCssClasses = (todoPriority) => {\n    switch (todoPriority) {\n      case _models_priority_level__WEBPACK_IMPORTED_MODULE_0__[\"default\"].URGENT:\n        return ['bg-danger', 'text-white'];\n      case _models_priority_level__WEBPACK_IMPORTED_MODULE_0__[\"default\"].HIGH:\n        return ['bg-primary', 'text-white'];\n      case _models_priority_level__WEBPACK_IMPORTED_MODULE_0__[\"default\"].MEDIUM:\n        return ['bg-warning', 'text-dark'];\n      default:\n        return ['bg-success', 'text-dark'];\n    }\n  };\n\n  const createTodoItemFooterDOMElement = (todoItem) => {\n    const { id, priority, projectId } = todoItem;\n    const { name } = _repositories__WEBPACK_IMPORTED_MODULE_1__[\"default\"].projectsRepository.find(projectId);\n\n    const iconsWrapper = document.createElement('div');\n\n    const deleteIcon = document.createElement('i');\n    deleteIcon.classList.add('align-self-end', 'fa', 'fa-fw', 'fa-trash-o');\n    deleteIcon.dataset.id = id;\n    deleteIcon.style.cursor = 'pointer';\n    deleteIcon.title = 'Delete Todo';\n    deleteIcon.addEventListener('click', (evt) => {\n      const { id } = evt.target.dataset;\n      removeTodoItem(+id);\n    });\n\n    const editIcon = document.createElement('i');\n    editIcon.classList.add('fa', 'fa-fw', 'fa-pencil');\n    editIcon.dataset.id = id;\n    editIcon.style.cursor = 'pointer';\n    editIcon.title = 'Edit Todo';\n    editIcon.addEventListener('click', (evt) => {\n      const { id } = evt.target.dataset;\n      renderEditTodoForm(+id);\n    });\n\n    const span = document.createElement('span');\n    const cardFooter = document.createElement('div');\n\n    span.innerText = name;\n    const [backgroundCss, textCss] = getCssClasses(priority);\n    cardFooter.classList.add('card-footer', 'd-flex', 'justify-content-between',\n      `${backgroundCss}`, 'font-weight-bold', `${textCss}`);\n\n    iconsWrapper.append(editIcon, deleteIcon);\n    cardFooter.append(span, iconsWrapper);\n    return cardFooter;\n  };\n\n  const createTodoItemTitleDOMElement = ({ id, title }) => {\n    const span = document.createElement('span');\n    span.innerText = title;\n\n    const icon = document.createElement('icon');\n    icon.classList.add('fa', 'fa-chevron-circle-left');\n    icon.setAttribute('aria-controls', `shell-todo-${id}`);\n    icon.setAttribute('aria-expanded', false);\n    icon.setAttribute('data-target', `#shell-todo-${id}`);\n    icon.setAttribute('data-toggle', 'collapse');\n    icon.style.fontSize = 'smaller';\n    icon.style.cursor = 'pointer';\n    icon.addEventListener('click', (evt) => {\n      const { target } = evt;\n      if ([...target.classList].includes('fa-chevron-circle-left')) {\n        target.classList.remove('fa-chevron-circle-left');\n        target.classList.add('fa-chevron-circle-down');\n      } else {\n        target.classList.remove('fa-chevron-circle-down');\n        target.classList.add('fa-chevron-circle-left');\n      }\n    });\n\n    const h2 = document.createElement('h2');\n    h2.classList.add('d-flex', 'justify-content-between');\n\n\n    h2.append(span, icon);\n    return h2;\n  };\n\n  const createTodoItemBodyDOMElement = (todoItem) => {\n    const { description, dueDate, id } = todoItem;\n    const titleElement = createTodoItemTitleDOMElement(todoItem);\n    const shellElement = document.createElement('div');\n    shellElement.classList.add('collapse');\n    shellElement.setAttribute('id', `shell-todo-${id}`);\n\n    const dueDateElement = document.createElement('h6');\n    dueDateElement.classList.add('font-weight-bold', 'text-center', 'text-primary');\n    dueDateElement.innerText = `Due on: ${dueDate}`;\n    shellElement.appendChild(dueDateElement);\n\n    if (description) {\n      const descriptionElement = document.createElement('p');\n      descriptionElement.innerText = description;\n      shellElement.appendChild(descriptionElement);\n    }\n\n    const cardBody = document.createElement('div');\n    cardBody.classList.add('card-body');\n\n    cardBody.append(titleElement, shellElement);\n    return cardBody;\n  };\n\n  function createTodoItemDOMElement(todoItem) {\n    const { id } = todoItem;\n\n    const col = document.createElement('div');\n    col.classList.add('col-12', 'col-lg-4', 'mb-3', 'todo');\n    col.setAttribute('id', `todo-${id}`);\n\n    const card = document.createElement('div');\n    card.classList.add('card', 'border-bottom', 'shadow');\n\n    const cardBody = createTodoItemBodyDOMElement(todoItem);\n\n    // create a footer with its elements\n    const cardFooter = createTodoItemFooterDOMElement(todoItem);\n\n    card.append(cardBody, cardFooter);\n    col.appendChild(card);\n    return col;\n  }\n\n  const appendTodoItemOnUserInterface = (todoItem) => {\n    const todoDOMElement = createTodoItemDOMElement(todoItem);\n    const firstChildNode = rootElement.firstChild;\n    if (firstChildNode) {\n      rootElement.insertBefore(todoDOMElement, firstChildNode);\n      return;\n    }\n    rootElement.appendChild(todoDOMElement);\n  };\n\n  const removeTodos = (projectId) => _repositories__WEBPACK_IMPORTED_MODULE_1__[\"default\"].todosRepository\n    .where(projectId)\n    .map(todo => todo.id)\n    .forEach(removeTodoItem);\n\n  const bootstrapComponent = () => _repositories__WEBPACK_IMPORTED_MODULE_1__[\"default\"].todosRepository\n    .findAll()\n    .forEach((todo, index) => setTimeout(() => {\n      appendTodoItemOnUserInterface(todo);\n    }, (index + 1) * 200));\n\n  return {\n    addTodoItem: appendTodoItemOnUserInterface,\n    initialize: bootstrapComponent,\n    removeTodosAssociatedWith: removeTodos,\n  };\n})();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ListTodosComponent);\n\n//# sourceURL=webpack:///./src/js/components/list-todos.js?")},"./src/js/components/projects-navigation.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _repositories__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../repositories */ \"./src/js/repositories/index.js\");\n/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/project */ \"./src/js/models/project.js\");\n/* harmony import */ var _event_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../event-types */ \"./src/js/event-types/index.js\");\n\n\n\n\n// Assume this to be an application module that runs as soon as it's loaded in\n// the browser\nconst ProjectsNavigationComponent = (() => {\n  const rootElement = document.querySelector('#projects-nav');\n  const divContainingForm = rootElement.querySelector('#addProjectForm');\n  const createProjectForm = rootElement.querySelector('form');\n\n  const resetErrorsElement = (element) => {\n    ['text-danger', 'text-success'].forEach(className => element.classList.remove(className));\n    element.innerHTML = '';\n  };\n\n  function clear() {\n    const form = this;\n    const errorsElement = form.querySelector('span');\n    const inputElement = form.querySelector('input');\n\n    resetErrorsElement(errorsElement);\n    inputElement.value = '';\n    return form;\n  }\n\n  const displayMessage = (element, message, type = 'success') => {\n    switch (type) {\n      case 'error':\n        element.classList.add('text-danger');\n        element.classList.remove('text-success');\n        break;\n\n      default:\n        element.classList.add('text-success');\n        element.classList.remove('text-danger');\n        break;\n    }\n\n    element.innerHTML = `${message}`;\n  };\n\n  const deleteProjectHandler = (evt) => {\n    evt.preventDefault();\n\n    const { localName, parentNode } = evt.target;\n\n    /**\n     * sometimes the eventTarget is the icon\n     * we need to read the id from the dataset of the parent node\n     */\n    const { id } = localName === 'i' ? parentNode.dataset : evt.target.dataset;\n    const listItemNode = localName === 'i' ? parentNode.parentNode : parentNode;\n\n    _repositories__WEBPACK_IMPORTED_MODULE_0__[\"default\"].projectsRepository.delete(+id);\n    listItemNode.parentNode.removeChild(listItemNode);\n    const event = new CustomEvent(_event_types__WEBPACK_IMPORTED_MODULE_2__[\"default\"].PROJECT_DELETED, {\n      detail: {\n        id,\n      },\n    });\n    document.dispatchEvent(event);\n  };\n\n  function hide() {\n    const formDiv = this;\n    formDiv.classList.add('collapse');\n    formDiv.classList.remove('show');\n    return formDiv;\n  }\n\n  /**\n   * Bind functions to elements\n   */\n  createProjectForm.clearForm = clear.bind(createProjectForm);\n  divContainingForm.thenHideForm = hide.bind(divContainingForm);\n\n  const createProjectListElement = (project) => {\n    const span = document.createElement('span');\n    span.innerText = project.name;\n\n    let deleteButton;\n\n    if (!project.isDefault) {\n      deleteButton = document.createElement('button');\n      deleteButton.classList.add('btn', 'p-2', 'btn-delete');\n      deleteButton.innerHTML = '<i class=\"fa fa-trash fa-fw\" aria-hidden=\"true\"></i>';\n      deleteButton.setAttribute('data-id', project.id);\n      deleteButton.addEventListener('click', deleteProjectHandler);\n    }\n\n    const ele = document.createElement('li');\n    ele.appendChild(span);\n    if (!project.isDefault) { ele.appendChild(deleteButton); }\n    ele.classList.add('bg-white', 'font-weight-lighter', 'my-2', 'p-2', 'rounded', 'shadow-lg', 'project');\n    return ele;\n  };\n\n  createProjectForm.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n\n    const { value: projectName } = createProjectForm.querySelector('#name');\n    const spanElement = createProjectForm.querySelector('span');\n    resetErrorsElement(spanElement);\n\n    try {\n      const id = _repositories__WEBPACK_IMPORTED_MODULE_0__[\"default\"].projectsRepository.maxId + 1;\n      const project = new _models_project__WEBPACK_IMPORTED_MODULE_1__[\"default\"](new Date(), id, projectName);\n      displayMessage(spanElement, 'Project created');\n\n      _repositories__WEBPACK_IMPORTED_MODULE_0__[\"default\"].projectsRepository.add(project);\n      const listElement = rootElement.querySelector('ul');\n      if (listElement.hasChildNodes()) {\n        const { firstChild } = listElement;\n        listElement.insertBefore(createProjectListElement(project), firstChild);\n      } else {\n        listElement.appendChild(createProjectListElement(project));\n      }\n      const event = new CustomEvent(_event_types__WEBPACK_IMPORTED_MODULE_2__[\"default\"].PROJECT_CREATED, {\n        detail: {\n          project,\n        },\n      });\n      document.dispatchEvent(event);\n      setTimeout(() => {\n        createProjectForm.clearForm();\n        divContainingForm.thenHideForm();\n      }, 1000);\n    } catch ({ message }) {\n      displayMessage(spanElement, message, 'error');\n    }\n  });\n\n  const bootstrapApp = () => {\n    const projects = _repositories__WEBPACK_IMPORTED_MODULE_0__[\"default\"].projectsRepository.findAll();\n    const projectListElements = projects.map(createProjectListElement);\n\n    const listElement = document.createElement('ul');\n    listElement.classList.add('list-unstyled');\n    rootElement.appendChild(listElement);\n\n    projectListElements.forEach((ele, index) => setTimeout(() => {\n      listElement.appendChild(ele);\n    }, (index + 1) * 200));\n  };\n\n  return {\n    initialize: bootstrapApp,\n  };\n})();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProjectsNavigationComponent);\n\n//# sourceURL=webpack:///./src/js/components/projects-navigation.js?")},"./src/js/event-types/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\nconst EventType = {\n  DATA_STORE_INITIALIZED: 'data-store-initialized',\n  PROJECT_CREATED: 'project-created',\n  PROJECT_DELETED: 'project-deleted',\n  TODO_ITEM_CREATED: 'todo-item-created',\n  TODO_ITEM_DELETE: 'todo-item-deleted',\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EventType);\n\n//# sourceURL=webpack:///./src/js/event-types/index.js?")},"./src/js/models/priority-level.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\nconst PriorityLevel = {\n  URGENT: 'Urgent',\n  HIGH: 'High',\n  MEDIUM: 'Medium',\n  LOW: 'Low',\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PriorityLevel);\n\n//# sourceURL=webpack:///./src/js/models/priority-level.js?")},"./src/js/models/project.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\nclass Project {\n  constructor(createdOn, id, name) {\n    if (!id) throw Error('Invalid id');\n    if (!name) throw Error('Invalid project name');\n\n    this.createdOn = createdOn || new Date();\n    this.id = id;\n    this.name = name.trim();\n  }\n\n  asJsonSerializable() {\n    const serializableObject = {\n      createdOn: this.createdOn,\n      id: this.id,\n      name: this.name,\n    };\n\n    return serializableObject;\n  }\n\n  get isDefault() {\n    return this.name === 'Default';\n  }\n\n  static parse(anonymousObject, format = 'JSON') {\n    switch (format) {\n      case 'JSON': {\n        const { createdOn, id, name } = anonymousObject;\n        return new Project(createdOn, id, name);\n      }\n\n      default:\n        throw Error('Unsupported format for parsing');\n    }\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Project);\n\n//# sourceURL=webpack:///./src/js/models/project.js?")},"./src/js/models/todo.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _priority_level__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./priority-level */ \"./src/js/models/priority-level.js\");\n\n\nclass TodoItem {\n  constructor(createdOn, description, dueDate, id, priority, projectId, title) {\n    if (!projectId) throw Error('Invalid Project');\n    if (!title) throw Error('Invalid title');\n    this.createdOn = createdOn || new Date();\n    this.description = description || null;\n    this.dueDate = dueDate || null;\n    this.id = id;\n    this.priority = priority || _priority_level__WEBPACK_IMPORTED_MODULE_0__[\"default\"].LOW;\n    this.projectId = projectId;\n    this.title = title;\n  }\n\n  asJsonSerializable() {\n    const serializableObject = {\n      createdOn: this.createdOn,\n      description: this.description,\n      dueDate: this.dueDate,\n      id: this.id,\n      priority: this.priority,\n      projectId: this.projectId,\n      title: this.title,\n    };\n    return serializableObject;\n  }\n\n  static parse(anonymousObject, format = 'JSON') {\n    switch (format) {\n      case 'JSON': {\n        const {\n          createdOn, description, dueDate, id, priority, projectId, title,\n        } = anonymousObject;\n        return new TodoItem(createdOn, description, dueDate, id, priority, projectId, title);\n      }\n\n      default:\n        throw Error('Unsupported format for parsing');\n    }\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TodoItem);\n\n//# sourceURL=webpack:///./src/js/models/todo.js?")},"./src/js/repositories/generic-repository.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\nclass GenericRepository {\n  constructor(key) {\n    if (!key) throw Error('Repository key is required');\n    this.key = key;\n    this.items = [];\n  }\n\n  add(item) {\n    this.items = [item, ...this.items];\n    this.syncStorage();\n  }\n\n  delete(itemId) {\n    this.items = this.items.filter(item => item.id !== itemId);\n    this.syncStorage();\n  }\n\n  find(itemId) {\n    for (let i = 0; i < this.items.length;) {\n      if (this.items[i].id === itemId) {\n        return this.items[i];\n      }\n      i += 1;\n    }\n    return null;\n  }\n\n  findAll() {\n    return this.items;\n  }\n\n  indexOf(id) {\n    for (let i = 0; i < this.items.length;) {\n      if (this.items[i].id === id) {\n        return i;\n      }\n      i += 1;\n    }\n    return -1;\n  }\n\n  get maxId() {\n    if (this.items.length === 0) return 0;\n    return Math.max(...this.items.map(item => item.id));\n  }\n\n  syncStorage() {\n    if (!window.localStorage) return;\n    const serializableItems = this.items.map(item => item.asJsonSerializable());\n    localStorage.setItem(this.key, JSON.stringify(serializableItems));\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GenericRepository);\n\n//# sourceURL=webpack:///./src/js/repositories/generic-repository.js?")},"./src/js/repositories/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _projects_repository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./projects-repository */ "./src/js/repositories/projects-repository.js");\n/* harmony import */ var _todos_repository__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./todos-repository */ "./src/js/repositories/todos-repository.js");\n\n\n\n/**\n * DataStore - Manages mapping between Local Storage and InMemoryModels\n */\n\nconst DataStore = (() => {\n  let repoOfProjects;\n  let repoOfTodos;\n\n  const projectsRepo = () => {\n    if (!repoOfProjects) {\n      repoOfProjects = new _projects_repository__WEBPACK_IMPORTED_MODULE_0__["default"](_projects_repository__WEBPACK_IMPORTED_MODULE_0__["default"].KEY);\n    }\n    return repoOfProjects;\n  };\n\n  const todosRepo = () => {\n    if (!repoOfTodos) {\n      repoOfTodos = new _todos_repository__WEBPACK_IMPORTED_MODULE_1__["default"](_todos_repository__WEBPACK_IMPORTED_MODULE_1__["default"].KEY);\n    }\n    return repoOfTodos;\n  };\n\n  return {\n    projectsRepository: projectsRepo(),\n    todosRepository: todosRepo(),\n  };\n})();\n\n\n/* harmony default export */ __webpack_exports__["default"] = (DataStore);\n\n//# sourceURL=webpack:///./src/js/repositories/index.js?')},"./src/js/repositories/projects-repository.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _generic_repository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./generic-repository */ "./src/js/repositories/generic-repository.js");\n/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/project */ "./src/js/models/project.js");\n\n\n\n// make sure the key cannot be over-written\nconst key = \'JUBEI-TODO-APP-PROJECTS-REPOSITORY\';\n\nclass ProjectsRepository extends _generic_repository__WEBPACK_IMPORTED_MODULE_0__["default"] {\n  constructor(key) {\n    super(key);\n    const itemsFromLocalStorage = localStorage.getItem(key);\n    if (!itemsFromLocalStorage) {\n      const id = this.maxId + 1;\n      this.add(new _models_project__WEBPACK_IMPORTED_MODULE_1__["default"](new Date(), id, \'Default\'));\n      return;\n    }\n\n    const itemsAsJson = JSON.parse(itemsFromLocalStorage);\n    this.items = itemsAsJson.map(item => _models_project__WEBPACK_IMPORTED_MODULE_1__["default"].parse(item));\n  }\n\n  static get KEY() {\n    return key;\n  }\n\n  update(id, options) {\n    const { index } = this.indexOf(id);\n    if (index === -1) return;\n    const { name } = options;\n    if (name) this.items[index].name = name;\n  }\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (ProjectsRepository);\n\n//# sourceURL=webpack:///./src/js/repositories/projects-repository.js?')},"./src/js/repositories/todos-repository.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _generic_repository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./generic-repository */ "./src/js/repositories/generic-repository.js");\n/* harmony import */ var _models_todo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/todo */ "./src/js/models/todo.js");\n\n\n\n// make sure the key cannot be over-written\nconst key = \'JUBEI-TODO-APP-TODOS-REPOSITORY\';\n\nclass TodosRepository extends _generic_repository__WEBPACK_IMPORTED_MODULE_0__["default"] {\n  constructor(key) {\n    super(key);\n    const itemsFromLocalStorage = localStorage.getItem(key);\n    if (!itemsFromLocalStorage) {\n      localStorage.setItem(key, JSON.stringify([]));\n      return;\n    }\n\n    const itemsAsJson = JSON.parse(itemsFromLocalStorage);\n    this.items = itemsAsJson.map(item => _models_todo__WEBPACK_IMPORTED_MODULE_1__["default"].parse(item));\n  }\n\n  static get KEY() {\n    return key;\n  }\n\n  update(id, options) {\n    const index = this.indexOf(id);\n    if (index === -1) return;\n\n    const {\n      description, dueDate, priority, projectId, title,\n    } = options;\n\n    if (!projectId) throw Error(\'Invalid project ID\');\n    if (description) this.items[index].description = description;\n    if (dueDate) this.items[index].dueDate = dueDate;\n    if (priority) this.items[index].priority = priority;\n    if (title) this.items[index].title = title;\n    this.items[index].projectId = +projectId;\n    this.syncStorage();\n  }\n\n  where(projectId) {\n    return this.items.filter(item => item.projectId === projectId);\n  }\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (TodosRepository);\n\n//# sourceURL=webpack:///./src/js/repositories/todos-repository.js?')},"./src/js/ui-helpers/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createAddTodoForm\", function() { return createAddTodoForm; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createEditTodoForm\", function() { return createEditTodoForm; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearFormFields\", function() { return clearFormFields; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"queryFormValuesByName\", function() { return queryFormValuesByName; });\n/* harmony import */ var _models_priority_level__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/priority-level */ \"./src/js/models/priority-level.js\");\n/* harmony import */ var _repositories__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../repositories */ \"./src/js/repositories/index.js\");\n\n\n\nconst sortByValue = (array, prop = 'value') => {\n  if (array && array.length === 0) return array;\n  return array.sort((a, b) => {\n    const [aString, bString] = [a, b].map(x => x[prop].toString());\n    if (aString < bString) return -1;\n    if (aString > bString) return 1;\n    return 0;\n  });\n};\n\nconst createButton = (options) => {\n  const { classes, text } = options;\n  const button = document.createElement('button');\n  if (classes && classes.length > 0) {\n    button.classList.add(...classes);\n  }\n  button.innerText = text;\n  return button;\n};\n\nconst createInputField = (options) => {\n  const {\n    classes, id, placeholder, type, value,\n  } = options;\n\n  const allClasses = ['form-control', 'my-2'];\n  const input = document.createElement('input');\n  if (classes && classes.length > 0) {\n    allClasses.push(...classes);\n  }\n  input.classList.add(...allClasses);\n  input.setAttribute('id', id);\n  input.setAttribute('type', type);\n  input.setAttribute('placeholder', placeholder || '');\n  input.value = value || '';\n  return input;\n};\n\nconst createSelectList = (options) => {\n  const {\n    classes, id, items, selected,\n  } = options;\n  const allClasses = ['form-control', 'my-2'];\n  if (classes && classes.length !== 0) {\n    allClasses.push(...classes);\n  }\n  const selectList = document.createElement('select');\n  selectList.classList.add(...allClasses);\n  selectList.setAttribute('id', id);\n  sortByValue(items, 'value').forEach(item => {\n    const { text, value } = item;\n    const option = document.createElement('option');\n    option.text = text;\n    option.value = value;\n    if (option.value === selected) {\n      option.selected = true;\n    }\n    selectList.appendChild(option);\n  });\n  return selectList;\n};\n\nconst createTitle = (text) => {\n  const titleComponent = document.createElement('h6');\n  titleComponent.style.fontWeight = 'bold';\n  titleComponent.innerText = text;\n  return titleComponent;\n};\n\nconst createForm = () => {\n  const form = document.createElement('form');\n  form.classList.add('pb-5');\n  form.setAttribute('method', 'post');\n  return form;\n};\n\nconst createFormControls = () => {\n  const controlsDiv = document.createElement('div');\n  controlsDiv.classList.add('col-12');\n\n  const rowDiv = document.createElement('div');\n  rowDiv.classList.add('row');\n\n  const saveButton = createButton({ classes: ['btn', 'btn-primary', 'btn-sm', 'col-5'], text: 'Save' });\n  saveButton.setAttribute('value', 'Save');\n  const cancelButton = createButton({ classes: ['btn', 'btn-secondary', 'btn-sm', 'offset-2', 'col-5'], text: 'Cancel' });\n  cancelButton.setAttribute('value', 'Cancel');\n  rowDiv.append(saveButton, cancelButton);\n  controlsDiv.append(rowDiv);\n  return controlsDiv;\n};\n\nconst createAddTodoForm = () => {\n  const form = createForm();\n\n  const formTitle = createTitle('Add Todo');\n\n  const titleInput = createInputField({ id: 'title', type: 'text', placeholder: 'Title' });\n\n  const descriptionInput = createInputField({ id: 'description', type: 'text', placeholder: 'Description' });\n\n  const dueDateInput = createInputField({ id: 'dueDate', type: 'date' });\n\n  const projects = _repositories__WEBPACK_IMPORTED_MODULE_1__[\"default\"].projectsRepository.findAll().map(x => ({\n    text: x.name,\n    value: x.id,\n  }));\n  const projectsSelectList = createSelectList({ id: 'projectId', items: projects });\n\n  const priorities = Object.getOwnPropertyNames(_models_priority_level__WEBPACK_IMPORTED_MODULE_0__[\"default\"]).map((name) => ({\n    text: _models_priority_level__WEBPACK_IMPORTED_MODULE_0__[\"default\"][name],\n    value: _models_priority_level__WEBPACK_IMPORTED_MODULE_0__[\"default\"][name],\n  }));\n\n  const prioritiesSelectList = createSelectList({\n    id: 'priority',\n    items: priorities,\n  });\n\n  // wrap buttons in a div (wrapper)\n  const controlsDiv = createFormControls();\n\n  // append all controls to the form\n  form.append(formTitle, titleInput, descriptionInput, projectsSelectList, dueDateInput,\n    prioritiesSelectList, controlsDiv);\n  return form;\n};\n\nconst createEditTodoForm = (todoItem) => {\n  const {\n    description, dueDate, id, priority, projectId, title,\n  } = todoItem;\n  const form = createForm();\n  const formTitle = createTitle('Edit Todo Item');\n  formTitle.classList.add('text-center');\n\n  const hiddenId = document.createElement('input');\n  hiddenId.setAttribute('type', 'hidden');\n  hiddenId.value = id;\n\n  const titleInput = createInputField({ id: 'title', type: 'text', placeholder: 'Title' });\n  titleInput.value = title;\n\n  const descriptionInput = createInputField({ id: 'description', type: 'text', placeholder: 'Description' });\n  descriptionInput.value = description;\n\n  const dueDateInput = createInputField({ id: 'dueDate', type: 'date' });\n  dueDateInput.value = dueDate;\n\n  const projects = _repositories__WEBPACK_IMPORTED_MODULE_1__[\"default\"].projectsRepository.findAll().map(x => ({\n    text: x.name,\n    value: x.id,\n  }));\n  const projectsSelectList = createSelectList({ id: 'projectId', items: projects, selected: `${projectId}` });\n\n  const priorities = Object.getOwnPropertyNames(_models_priority_level__WEBPACK_IMPORTED_MODULE_0__[\"default\"]).map((name) => ({\n    text: _models_priority_level__WEBPACK_IMPORTED_MODULE_0__[\"default\"][name],\n    value: _models_priority_level__WEBPACK_IMPORTED_MODULE_0__[\"default\"][name],\n  }));\n\n  const prioritiesSelectList = createSelectList({\n    id: 'priority',\n    items: priorities,\n    selected: priority,\n  });\n\n  // wrap buttons in a div (wrapper)\n  const controlsDiv = createFormControls();\n\n  form.append(formTitle, hiddenId, titleInput, descriptionInput, dueDateInput, projectsSelectList,\n    prioritiesSelectList, controlsDiv);\n\n  return form;\n};\n\nfunction clearFormFields() {\n  const form = this;\n  const [inputFields, selectLists] = [form.querySelectorAll('input'), form.querySelectorAll('select')];\n  inputFields.forEach(field => {\n    field.value = '';\n  });\n\n  selectLists.forEach(selectList => {\n    const { id } = selectList;\n    if (id === 'priority') {\n      selectList.value = _models_priority_level__WEBPACK_IMPORTED_MODULE_0__[\"default\"].HIGH;\n    } else {\n      // set the default project as the selected one\n      selectList.value = 1;\n    }\n  });\n}\n\nfunction queryFormValuesByName(names) {\n  const form = this;\n  const obj = Object.create({});\n  names.forEach(name => { obj[name] = form.querySelector(`#${name}`).value; });\n  return obj;\n}\n\n//# sourceURL=webpack:///./src/js/ui-helpers/index.js?")}},[["./src/js/app.js","runtime"]]]);